{"version":3,"sources":["components/PointContainerLayout.tsx","components/PointContainer.tsx","models/ColorPoint.ts","utils/utils.ts","hooks/usePointsHoooks.ts","components/App.tsx","index.tsx"],"names":["Container","styled","div","_templateObject","props","concat","radius","color","x","y","React","memo","react_default","a","createElement","PointContainerLayout","point","onClick","handleClick","ColorPoint","Object","classCallCheck","this","randomByRange","max","min","small","Math","large","random","usePointsHoooks","_useState","useState","points","i","floor","toString","push","genDefaultPoints","_useState2","slicedToArray","setPoints","useCallback","idx","move","changeColor","changeRadius","newPoints","toConsumableArray","slice","Layout","App_templateObject","App","_usePointsHoooks","_usePointsHoooks2","map","components_PointContainer","key","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.64a3fb49.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\ninterface StyledProps {\r\n  x: number;\r\n  y: number;\r\n  color: string;\r\n  radius: number;\r\n}\r\nconst Container = styled.div`\r\n  position: absolute;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  transition: all 0.6s;\r\n  width: ${(props: StyledProps) => `${props.radius}px`};\r\n  height: ${(props: StyledProps) => `${props.radius}px`};\r\n  background-color: ${(props: StyledProps) => props.color};\r\n  transform: ${(props: StyledProps) => `translate(${props.x}px, ${props.y}px)`};\r\n`;\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\nimport ColorPoint from \"../models/ColorPoint\";\r\nimport Container from \"./PointContainerLayout\";\r\n\r\ninterface Props {\r\n  point: ColorPoint;\r\n  handleClick: () => void;\r\n}\r\nfunction PointContainer(props: Props) {\r\n  return (\r\n    <Container\r\n      x={props.point.x}\r\n      y={props.point.y}\r\n      color={props.point.color}\r\n      radius={props.point.radius}\r\n      onClick={props.handleClick}\r\n    />\r\n  );\r\n}\r\n\r\nexport default React.memo(PointContainer);\r\n","export default class ColorPoint {\r\n  public readonly x: number;\r\n  public readonly y: number;\r\n  public readonly radius: number;\r\n  public readonly color: string;\r\n  constructor(x: number, y: number, radius: number, color: string) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.radius = radius;\r\n    this.color = color;\r\n  }\r\n\r\n  public move(x: number, y: number) {\r\n    return new ColorPoint(x, y, this.radius, this.color);\r\n  }\r\n\r\n  public changeColor(color: string) {\r\n    return new ColorPoint(this.x, this.y, this.radius, color);\r\n  }\r\n\r\n  public changeRadius(radius: number) {\r\n    return new ColorPoint(this.x, this.y, radius, this.color);\r\n  }\r\n}\r\n","import ColorPoint from \"../models/ColorPoint\";\r\n\r\nexport function genDefaultPoints(): ColorPoint[] {\r\n  const points = [];\r\n  for (let i = 0; i < 100; i++) {\r\n    // 需要考虑位移加半径可能会超出区域\r\n    const x = randomByRange(590, 0);\r\n    const y = randomByRange(590, 0);\r\n    const color = Math.floor(randomByRange(0xffffff, 0)).toString(16);\r\n    const point = new ColorPoint(x, y, 10, `#${color}`);\r\n    points.push(point);\r\n  }\r\n  return points;\r\n}\r\n\r\nexport function randomByRange(max: number, min: number): number {\r\n  const small = Math.min(max, min);\r\n  const large = Math.max(max, min);\r\n  return Math.random() * (large - small) + small;\r\n}\r\n","import { useState, useCallback } from \"react\";\r\nimport { genDefaultPoints, randomByRange } from \"../utils/utils\";\r\nimport ColorPoint from \"../models/ColorPoint\";\r\n\r\nexport default function usePointsHoooks(): [\r\n  ColorPoint[],\r\n  (idx: number) => void\r\n] {\r\n  const [points, setPoints] = useState<ColorPoint[]>(() => genDefaultPoints());\r\n\r\n  const handleClick = useCallback(\r\n    (idx: number) => {\r\n      const color = Math.floor(randomByRange(0xffffff, 0)).toString(16);\r\n      const radius = randomByRange(20, 10);\r\n      const x = randomByRange(600 - radius, radius);\r\n      const y = randomByRange(600 - radius, radius);\r\n      const point = points[idx]\r\n        .move(x, y)\r\n        .changeColor(`#${color}`)\r\n        .changeRadius(radius);\r\n      const newPoints = [\r\n        ...points.slice(0, idx),\r\n        point,\r\n        ...points.slice(idx + 1)\r\n      ];\r\n      setPoints(newPoints);\r\n    },\r\n    [points]\r\n  );\r\n  return [points, handleClick];\r\n}\r\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport PointContainer from \"./PointContainer\";\nimport usePointsHoooks from \"../hooks/usePointsHoooks\";\n\nconst Layout = styled.div`\n  width: 600px;\n  height: 600px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -300px;\n  margin-left: -300px;\n  border: 1px solid;\n  transition: all 1s;\n`;\n\nconst App: React.FC = () => {\n  const [points, handleClick] = usePointsHoooks();\n  return (\n    <Layout>\n      {points.map((point, idx) => {\n        return (\n          <PointContainer\n            key={idx}\n            point={point}\n            handleClick={() => handleClick(idx)}\n          />\n        );\n      })}\n    </Layout>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}